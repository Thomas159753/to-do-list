/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";var e=Object.prototype.toString,t=Array.isArray||function(t){return"[object Array]"===e.call(t)};function n(e){return"function"==typeof e}function a(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function s(e,t){return null!=e&&"object"==typeof e&&t in e}var r=RegExp.prototype.test,i=/\S/;var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},c=/\s*/,l=/\s+/,p=/\s*=/,h=/\s*\}/,u=/#|\^|\/|>|\{|&|=|!/;function d(e){this.string=e,this.tail=e,this.pos=0}function f(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function v(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}d.prototype.eos=function(){return""===this.tail},d.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},d.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},f.prototype.push=function(e){return new f(e,this)},f.prototype.lookup=function(e){var t,a,r,i=this.cache;if(i.hasOwnProperty(e))t=i[e];else{for(var o,c,l,p=this,h=!1;p;){if(e.indexOf(".")>0)for(o=p.view,c=e.split("."),l=0;null!=o&&l<c.length;)l===c.length-1&&(h=s(o,c[l])||(a=o,r=c[l],null!=a&&"object"!=typeof a&&a.hasOwnProperty&&a.hasOwnProperty(r))),o=o[c[l++]];else o=p.view[e],h=s(p.view,e);if(h){t=o;break}p=p.parent}i[e]=t}return n(t)&&(t=t.call(this.view)),t},v.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},v.prototype.parse=function(e,n){var s=this.templateCache,o=e+":"+(n||g.tags).join(":"),f=void 0!==s,v=f?s.get(o):void 0;return null==v&&(v=function(e,n){if(!e)return[];var s,o,f,v,k=!1,y=[],m=[],w=[],x=!1,b=!1,C="",j=0;function $(){if(x&&!b)for(;w.length;)delete m[w.pop()];else w=[];x=!1,b=!1}function T(e){if("string"==typeof e&&(e=e.split(l,2)),!t(e)||2!==e.length)throw new Error("Invalid tags: "+e);s=new RegExp(a(e[0])+"\\s*"),o=new RegExp("\\s*"+a(e[1])),f=new RegExp("\\s*"+a("}"+e[1]))}T(n||g.tags);for(var _,I,E,U,P,S,V=new d(e);!V.eos();){if(_=V.pos,E=V.scanUntil(s))for(var O=0,A=E.length;O<A;++O)v=U=E.charAt(O),function(e,t){return r.call(e,t)}(i,v)?(b=!0,k=!0,C+=" "):(w.push(m.length),C+=U),m.push(["text",U,_,_+1]),_+=1,"\n"===U&&($(),C="",j=0,k=!1);if(!V.scan(s))break;if(x=!0,I=V.scan(u)||"name",V.scan(c),"="===I?(E=V.scanUntil(p),V.scan(p),V.scanUntil(o)):"{"===I?(E=V.scanUntil(f),V.scan(h),V.scanUntil(o),I="&"):E=V.scanUntil(o),!V.scan(o))throw new Error("Unclosed tag at "+V.pos);if(P=">"==I?[I,E,_,V.pos,C,j,k]:[I,E,_,V.pos],j++,m.push(P),"#"===I||"^"===I)y.push(P);else if("/"===I){if(!(S=y.pop()))throw new Error('Unopened section "'+E+'" at '+_);if(S[1]!==E)throw new Error('Unclosed section "'+S[1]+'" at '+_)}else"name"===I||"{"===I||"&"===I?b=!0:"="===I&&T(E)}if($(),S=y.pop())throw new Error('Unclosed section "'+S[1]+'" at '+V.pos);return function(e){for(var t,n=[],a=n,s=[],r=0,i=e.length;r<i;++r)switch((t=e[r])[0]){case"#":case"^":a.push(t),s.push(t),a=t[4]=[];break;case"/":s.pop()[5]=t[2],a=s.length>0?s[s.length-1][4]:n;break;default:a.push(t)}return n}(function(e){for(var t,n,a=[],s=0,r=e.length;s<r;++s)(t=e[s])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(a.push(t),n=t));return a}(m))}(e,n),f&&s.set(o,v)),v},v.prototype.render=function(e,t,n,a){var s=this.getConfigTags(a),r=this.parse(e,s),i=t instanceof f?t:new f(t,void 0);return this.renderTokens(r,i,n,e,a)},v.prototype.renderTokens=function(e,t,n,a,s){for(var r,i,o,c="",l=0,p=e.length;l<p;++l)o=void 0,"#"===(i=(r=e[l])[0])?o=this.renderSection(r,t,n,a,s):"^"===i?o=this.renderInverted(r,t,n,a,s):">"===i?o=this.renderPartial(r,t,n,s):"&"===i?o=this.unescapedValue(r,t):"name"===i?o=this.escapedValue(r,t,s):"text"===i&&(o=this.rawValue(r)),void 0!==o&&(c+=o);return c},v.prototype.renderSection=function(e,a,s,r,i){var o=this,c="",l=a.lookup(e[1]);if(l){if(t(l))for(var p=0,h=l.length;p<h;++p)c+=this.renderTokens(e[4],a.push(l[p]),s,r,i);else if("object"==typeof l||"string"==typeof l||"number"==typeof l)c+=this.renderTokens(e[4],a.push(l),s,r,i);else if(n(l)){if("string"!=typeof r)throw new Error("Cannot use higher-order sections without the original template");null!=(l=l.call(a.view,r.slice(e[3],e[5]),(function(e){return o.render(e,a,s,i)})))&&(c+=l)}else c+=this.renderTokens(e[4],a,s,r,i);return c}},v.prototype.renderInverted=function(e,n,a,s,r){var i=n.lookup(e[1]);if(!i||t(i)&&0===i.length)return this.renderTokens(e[4],n,a,s,r)},v.prototype.indentPartial=function(e,t,n){for(var a=t.replace(/[^ \t]/g,""),s=e.split("\n"),r=0;r<s.length;r++)s[r].length&&(r>0||!n)&&(s[r]=a+s[r]);return s.join("\n")},v.prototype.renderPartial=function(e,t,a,s){if(a){var r=this.getConfigTags(s),i=n(a)?a(e[1]):a[e[1]];if(null!=i){var o=e[6],c=e[5],l=e[4],p=i;0==c&&l&&(p=this.indentPartial(i,l,o));var h=this.parse(p,r);return this.renderTokens(h,t,a,p,s)}}},v.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},v.prototype.escapedValue=function(e,t,n){var a=this.getConfigEscape(n)||g.escape,s=t.lookup(e[1]);if(null!=s)return"number"==typeof s&&a===g.escape?String(s):a(s)},v.prototype.rawValue=function(e){return e[1]},v.prototype.getConfigTags=function(e){return t(e)?e:e&&"object"==typeof e?e.tags:void 0},v.prototype.getConfigEscape=function(e){return e&&"object"==typeof e&&!t(e)?e.escape:void 0};var g={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){k.templateCache=e},get templateCache(){return k.templateCache}},k=new v;g.clearCache=function(){return k.clearCache()},g.parse=function(e,t){return k.parse(e,t)},g.render=function(e,n,a,s){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+(t(r=e)?"array":typeof r)+'" was given as the first argument for mustache#render(template, view, partials)');var r;return k.render(e,n,a,s)},g.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,(function(e){return o[e]}))},g.Scanner=d,g.Context=f,g.Writer=v;const y=g,m=function(e,t,n){const a=$(e),s=$(t);"none"===a.css("display")&&"flex"===s.css("display")?(a.css("display","flex"),s.css("display","none")):("none"===s.css("display")&&!1===n||a.css("display","none"),s.css("display","flex"))};!function(){const e=$(".nav-bar"),t=e.find("#new_project"),n=e.find("#project_form"),a=n.find("#project_input"),s=n.find(".btn_add_project"),r=(n.find("#btn_cancel_project"),e.find("ul")),i=$(".tasks-preview"),o=i.find(".add-task-show"),c=i.find(".task-input-div"),l=i.find("#task_input"),p=i.find(".btn_add_task"),h=i.find("#tasks-list"),u=i.find(".task-header");let d=[],f=0,v=null;const g=(e,t)=>{const n=$(e.currentTarget).closest(".item").data("index");if($(e.currentTarget).hasClass("project-li"))v=d.find((e=>e.dataIndex==n)),(e=>{u.html(e.name),h.empty(),p.off("click").on("click",(()=>w(e))),e.render("task")})(v);else if($(e.currentTarget).hasClass("fa-circle")||$(e.currentTarget).hasClass("fa-check-circle")){const e=v.tasks.findIndex((e=>e.dataIndex===n)),s=v.tasks.find((e=>e.dataIndex===n));a=t,!1===s.completed?$(a).removeClass("fa-circle").addClass("fa-check-circle"):$(a).removeClass("fa-check-circle").addClass("fa-circle"),v.completeTask(e)}var a},k=()=>{const e=new class{constructor(e,t){this.name=e,this.tasks=[],this.completedTasks=[],this.dataIndex=t,this.cacheDom()}cacheDom(){this.$nav=$(".nav-bar"),this.$projectModule=this.$nav.find("#projectModule"),this.$ul=this.$projectModule.find("ul"),this.$tasksPreview=$(".tasks-preview"),this.$taskUl=this.$tasksPreview.find("#tasks-list")}render(e){"project"===e?this.$ul.append(y.render('\n    <li class="project-li item" data-index="{{dataIndex}}">\n        <span class="btn__icon"><i class="fa-solid fa-list"></i></span>\n        <span class="btn__text">{{name}}</span>\n        <span class="btn__icon"><i class="fa-regular fa-trash-can"></i></span>\n    </li>\n    ',{name:this.name,dataIndex:this.dataIndex})):"task"===e&&(this.$taskUl.empty(),this.tasks.forEach((e=>{this.$taskUl.append(y.render('\n      <li class="item" data-index="{{dataIndex}}">\n        <span class="task_icon"><i class="fa-regular fa-circle"></i></span>\n        <span class="task_text">{{task}}</span>\n        <input class="date" type="date" id="dateInput" name="date">\n      </li>\n    ',{task:e.name,dataIndex:e.dataIndex}))})))}addProjectTask(e,t){this.tasks.push({name:e,completed:!1,dataIndex:t})}completeTask(e){const t=this.tasks.splice(e,1)[0];t.completed=!0,this.completedTasks.push(t)}}(a.val(),f++);d.push(e),e.render("project"),a.val(""),m(n,t)},w=e=>{e.addProjectTask(l.val(),f++),e.render("task"),l.val(""),m(c,o)};s.on("click",(()=>k())),r.on("click","i.fa-trash-can",(e=>{})),r.on("click","li.project-li",(e=>{g(e),m(void 0,o,!1)})),h.on("click","i.fa-circle, i.fa-check-circle",(e=>{g(e,e.currentTarget)})),t.on("click",(()=>m(n,t))),o.on("click",(()=>m(c,o)))}()})();