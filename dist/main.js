/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";var t=Object.prototype.toString,e=Array.isArray||function(e){return"[object Array]"===t.call(e)};function n(t){return"function"==typeof t}function r(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(t,e){return null!=t&&"object"==typeof t&&e in t}var s=RegExp.prototype.test,o=/\S/;var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},c=/\s*/,p=/\s+/,l=/\s*=/,h=/\s*\}/,u=/#|\^|\/|>|\{|&|=|!/;function f(t){this.string=t,this.tail=t,this.pos=0}function d(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function g(){this.templateCache={_cache:{},set:function(t,e){this._cache[t]=e},get:function(t){return this._cache[t]},clear:function(){this._cache={}}}}f.prototype.eos=function(){return""===this.tail},f.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var n=e[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},f.prototype.scanUntil=function(t){var e,n=this.tail.search(t);switch(n){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=e.length,e},d.prototype.push=function(t){return new d(t,this)},d.prototype.lookup=function(t){var e,r,s,o=this.cache;if(o.hasOwnProperty(t))e=o[t];else{for(var a,c,p,l=this,h=!1;l;){if(t.indexOf(".")>0)for(a=l.view,c=t.split("."),p=0;null!=a&&p<c.length;)p===c.length-1&&(h=i(a,c[p])||(r=a,s=c[p],null!=r&&"object"!=typeof r&&r.hasOwnProperty&&r.hasOwnProperty(s))),a=a[c[p++]];else a=l.view[t],h=i(l.view,t);if(h){e=a;break}l=l.parent}o[t]=e}return n(e)&&(e=e.call(this.view)),e},g.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},g.prototype.parse=function(t,n){var i=this.templateCache,a=t+":"+(n||v.tags).join(":"),d=void 0!==i,g=d?i.get(a):void 0;return null==g&&(g=function(t,n){if(!t)return[];var i,a,d,g,y=!1,w=[],k=[],m=[],j=!1,b=!1,x="",C=0;function $(){if(j&&!b)for(;m.length;)delete k[m.pop()];else m=[];j=!1,b=!1}function _(t){if("string"==typeof t&&(t=t.split(p,2)),!e(t)||2!==t.length)throw new Error("Invalid tags: "+t);i=new RegExp(r(t[0])+"\\s*"),a=new RegExp("\\s*"+r(t[1])),d=new RegExp("\\s*"+r("}"+t[1]))}_(n||v.tags);for(var T,E,U,S,P,I,V=new f(t);!V.eos();){if(T=V.pos,U=V.scanUntil(i))for(var O=0,A=U.length;O<A;++O)g=S=U.charAt(O),function(t,e){return s.call(t,e)}(o,g)?(b=!0,y=!0,x+=" "):(m.push(k.length),x+=S),k.push(["text",S,T,T+1]),T+=1,"\n"===S&&($(),x="",C=0,y=!1);if(!V.scan(i))break;if(j=!0,E=V.scan(u)||"name",V.scan(c),"="===E?(U=V.scanUntil(l),V.scan(l),V.scanUntil(a)):"{"===E?(U=V.scanUntil(d),V.scan(h),V.scanUntil(a),E="&"):U=V.scanUntil(a),!V.scan(a))throw new Error("Unclosed tag at "+V.pos);if(P=">"==E?[E,U,T,V.pos,x,C,y]:[E,U,T,V.pos],C++,k.push(P),"#"===E||"^"===E)w.push(P);else if("/"===E){if(!(I=w.pop()))throw new Error('Unopened section "'+U+'" at '+T);if(I[1]!==U)throw new Error('Unclosed section "'+I[1]+'" at '+T)}else"name"===E||"{"===E||"&"===E?b=!0:"="===E&&_(U)}if($(),I=w.pop())throw new Error('Unclosed section "'+I[1]+'" at '+V.pos);return function(t){for(var e,n=[],r=n,i=[],s=0,o=t.length;s<o;++s)switch((e=t[s])[0]){case"#":case"^":r.push(e),i.push(e),r=e[4]=[];break;case"/":i.pop()[5]=e[2],r=i.length>0?i[i.length-1][4]:n;break;default:r.push(e)}return n}(function(t){for(var e,n,r=[],i=0,s=t.length;i<s;++i)(e=t[i])&&("text"===e[0]&&n&&"text"===n[0]?(n[1]+=e[1],n[3]=e[3]):(r.push(e),n=e));return r}(k))}(t,n),d&&i.set(a,g)),g},g.prototype.render=function(t,e,n,r){var i=this.getConfigTags(r),s=this.parse(t,i),o=e instanceof d?e:new d(e,void 0);return this.renderTokens(s,o,n,t,r)},g.prototype.renderTokens=function(t,e,n,r,i){for(var s,o,a,c="",p=0,l=t.length;p<l;++p)a=void 0,"#"===(o=(s=t[p])[0])?a=this.renderSection(s,e,n,r,i):"^"===o?a=this.renderInverted(s,e,n,r,i):">"===o?a=this.renderPartial(s,e,n,i):"&"===o?a=this.unescapedValue(s,e):"name"===o?a=this.escapedValue(s,e,i):"text"===o&&(a=this.rawValue(s)),void 0!==a&&(c+=a);return c},g.prototype.renderSection=function(t,r,i,s,o){var a=this,c="",p=r.lookup(t[1]);if(p){if(e(p))for(var l=0,h=p.length;l<h;++l)c+=this.renderTokens(t[4],r.push(p[l]),i,s,o);else if("object"==typeof p||"string"==typeof p||"number"==typeof p)c+=this.renderTokens(t[4],r.push(p),i,s,o);else if(n(p)){if("string"!=typeof s)throw new Error("Cannot use higher-order sections without the original template");null!=(p=p.call(r.view,s.slice(t[3],t[5]),(function(t){return a.render(t,r,i,o)})))&&(c+=p)}else c+=this.renderTokens(t[4],r,i,s,o);return c}},g.prototype.renderInverted=function(t,n,r,i,s){var o=n.lookup(t[1]);if(!o||e(o)&&0===o.length)return this.renderTokens(t[4],n,r,i,s)},g.prototype.indentPartial=function(t,e,n){for(var r=e.replace(/[^ \t]/g,""),i=t.split("\n"),s=0;s<i.length;s++)i[s].length&&(s>0||!n)&&(i[s]=r+i[s]);return i.join("\n")},g.prototype.renderPartial=function(t,e,r,i){if(r){var s=this.getConfigTags(i),o=n(r)?r(t[1]):r[t[1]];if(null!=o){var a=t[6],c=t[5],p=t[4],l=o;0==c&&p&&(l=this.indentPartial(o,p,a));var h=this.parse(l,s);return this.renderTokens(h,e,r,l,i)}}},g.prototype.unescapedValue=function(t,e){var n=e.lookup(t[1]);if(null!=n)return n},g.prototype.escapedValue=function(t,e,n){var r=this.getConfigEscape(n)||v.escape,i=e.lookup(t[1]);if(null!=i)return"number"==typeof i&&r===v.escape?String(i):r(i)},g.prototype.rawValue=function(t){return t[1]},g.prototype.getConfigTags=function(t){return e(t)?t:t&&"object"==typeof t?t.tags:void 0},g.prototype.getConfigEscape=function(t){return t&&"object"==typeof t&&!e(t)?t.escape:void 0};var v={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(t){y.templateCache=t},get templateCache(){return y.templateCache}},y=new g;v.clearCache=function(){return y.clearCache()},v.parse=function(t,e){return y.parse(t,e)},v.render=function(t,n,r,i){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+(e(s=t)?"array":typeof s)+'" was given as the first argument for mustache#render(template, view, partials)');var s;return y.render(t,n,r,i)},v.escape=function(t){return String(t).replace(/[&<>"'`=\/]/g,(function(t){return a[t]}))},v.Scanner=f,v.Context=d,v.Writer=g;const w=v,k=function(t,e){const n=$(t),r=$(e);"none"===n.css("display")&&"flex"===r.css("display")?(n.css("display","flex"),r.css("display","none")):(n.css("display","none"),r.css("display","flex"))};!function(){const t=$(".nav-bar"),e=t.find("#new_project"),n=t.find("#project_form"),r=n.find("#project_input"),i=n.find(".btn_add_project"),s=(n.find("#btn_cancel_project"),t.find("ul")),o=$(".tasks-preview"),a=o.find(".add-task-show"),c=o.find(".task-input-div"),p=o.find("#task_input"),l=o.find(".btn_add_task"),h=new class{constructor(){this.projects=[],this.cacheDom()}cacheDom(){this.$nav=$(".nav-bar"),this.$projectModule=this.$nav.find("#projectModule"),this.$ul=this.$projectModule.find("ul"),this.$template=this.$projectModule.find("#project-template").html()}render(){const t={projects:this.projects};this.$ul.html(w.render(this.$template,t))}add(t){this.projects.push({name:t,dataIndex:t,tasks:[]}),this.render()}addTask(t,e){this.projects.find((e=>e.dataIndex===t)).tasks.push({name:e}),console.log(this.projects)}del(t){const e=$(t.target).closest("li"),n=this.$ul.find("li").index(e);this.projects.splice(n,1),this.render()}},u=t=>{console.log(t);const e=p.val();h.addTask(t,e),p.val(""),k(c,a)};i.on("click",(()=>(()=>{const t=r.val();h.add(t),r.val(""),k(n,e)})())),s.on("click","i.fa-trash-can",(t=>{h.del(t)})),s.on("click","span.btn__text",(t=>{const e=$(t.currentTarget).closest(".project-li").data("project-index");l.on("click",(()=>u(e)))})),e.on("click",(()=>k(n,e))),a.on("click",(()=>k(c,a)))}()})();