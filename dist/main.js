/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";var t=Object.prototype.toString,e=Array.isArray||function(e){return"[object Array]"===t.call(e)};function n(t){return"function"==typeof t}function r(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(t,e){return null!=t&&"object"==typeof t&&e in t}var s=RegExp.prototype.test,a=/\S/;var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},c=/\s*/,l=/\s+/,p=/\s*=/,h=/\s*\}/,u=/#|\^|\/|>|\{|&|=|!/;function f(t){this.string=t,this.tail=t,this.pos=0}function d(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function v(){this.templateCache={_cache:{},set:function(t,e){this._cache[t]=e},get:function(t){return this._cache[t]},clear:function(){this._cache={}}}}f.prototype.eos=function(){return""===this.tail},f.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var n=e[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},f.prototype.scanUntil=function(t){var e,n=this.tail.search(t);switch(n){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=e.length,e},d.prototype.push=function(t){return new d(t,this)},d.prototype.lookup=function(t){var e,r,s,a=this.cache;if(a.hasOwnProperty(t))e=a[t];else{for(var o,c,l,p=this,h=!1;p;){if(t.indexOf(".")>0)for(o=p.view,c=t.split("."),l=0;null!=o&&l<c.length;)l===c.length-1&&(h=i(o,c[l])||(r=o,s=c[l],null!=r&&"object"!=typeof r&&r.hasOwnProperty&&r.hasOwnProperty(s))),o=o[c[l++]];else o=p.view[t],h=i(p.view,t);if(h){e=o;break}p=p.parent}a[t]=e}return n(e)&&(e=e.call(this.view)),e},v.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},v.prototype.parse=function(t,n){var i=this.templateCache,o=t+":"+(n||g.tags).join(":"),d=void 0!==i,v=d?i.get(o):void 0;return null==v&&(v=function(t,n){if(!t)return[];var i,o,d,v,y=!1,w=[],k=[],m=[],b=!1,j=!1,x="",$=0;function C(){if(b&&!j)for(;m.length;)delete k[m.pop()];else m=[];b=!1,j=!1}function _(t){if("string"==typeof t&&(t=t.split(l,2)),!e(t)||2!==t.length)throw new Error("Invalid tags: "+t);i=new RegExp(r(t[0])+"\\s*"),o=new RegExp("\\s*"+r(t[1])),d=new RegExp("\\s*"+r("}"+t[1]))}_(n||g.tags);for(var T,E,P,U,I,S,V=new f(t);!V.eos();){if(T=V.pos,P=V.scanUntil(i))for(var O=0,A=P.length;O<A;++O)v=U=P.charAt(O),function(t,e){return s.call(t,e)}(a,v)?(j=!0,y=!0,x+=" "):(m.push(k.length),x+=U),k.push(["text",U,T,T+1]),T+=1,"\n"===U&&(C(),x="",$=0,y=!1);if(!V.scan(i))break;if(b=!0,E=V.scan(u)||"name",V.scan(c),"="===E?(P=V.scanUntil(p),V.scan(p),V.scanUntil(o)):"{"===E?(P=V.scanUntil(d),V.scan(h),V.scanUntil(o),E="&"):P=V.scanUntil(o),!V.scan(o))throw new Error("Unclosed tag at "+V.pos);if(I=">"==E?[E,P,T,V.pos,x,$,y]:[E,P,T,V.pos],$++,k.push(I),"#"===E||"^"===E)w.push(I);else if("/"===E){if(!(S=w.pop()))throw new Error('Unopened section "'+P+'" at '+T);if(S[1]!==P)throw new Error('Unclosed section "'+S[1]+'" at '+T)}else"name"===E||"{"===E||"&"===E?j=!0:"="===E&&_(P)}if(C(),S=w.pop())throw new Error('Unclosed section "'+S[1]+'" at '+V.pos);return function(t){for(var e,n=[],r=n,i=[],s=0,a=t.length;s<a;++s)switch((e=t[s])[0]){case"#":case"^":r.push(e),i.push(e),r=e[4]=[];break;case"/":i.pop()[5]=e[2],r=i.length>0?i[i.length-1][4]:n;break;default:r.push(e)}return n}(function(t){for(var e,n,r=[],i=0,s=t.length;i<s;++i)(e=t[i])&&("text"===e[0]&&n&&"text"===n[0]?(n[1]+=e[1],n[3]=e[3]):(r.push(e),n=e));return r}(k))}(t,n),d&&i.set(o,v)),v},v.prototype.render=function(t,e,n,r){var i=this.getConfigTags(r),s=this.parse(t,i),a=e instanceof d?e:new d(e,void 0);return this.renderTokens(s,a,n,t,r)},v.prototype.renderTokens=function(t,e,n,r,i){for(var s,a,o,c="",l=0,p=t.length;l<p;++l)o=void 0,"#"===(a=(s=t[l])[0])?o=this.renderSection(s,e,n,r,i):"^"===a?o=this.renderInverted(s,e,n,r,i):">"===a?o=this.renderPartial(s,e,n,i):"&"===a?o=this.unescapedValue(s,e):"name"===a?o=this.escapedValue(s,e,i):"text"===a&&(o=this.rawValue(s)),void 0!==o&&(c+=o);return c},v.prototype.renderSection=function(t,r,i,s,a){var o=this,c="",l=r.lookup(t[1]);if(l){if(e(l))for(var p=0,h=l.length;p<h;++p)c+=this.renderTokens(t[4],r.push(l[p]),i,s,a);else if("object"==typeof l||"string"==typeof l||"number"==typeof l)c+=this.renderTokens(t[4],r.push(l),i,s,a);else if(n(l)){if("string"!=typeof s)throw new Error("Cannot use higher-order sections without the original template");null!=(l=l.call(r.view,s.slice(t[3],t[5]),(function(t){return o.render(t,r,i,a)})))&&(c+=l)}else c+=this.renderTokens(t[4],r,i,s,a);return c}},v.prototype.renderInverted=function(t,n,r,i,s){var a=n.lookup(t[1]);if(!a||e(a)&&0===a.length)return this.renderTokens(t[4],n,r,i,s)},v.prototype.indentPartial=function(t,e,n){for(var r=e.replace(/[^ \t]/g,""),i=t.split("\n"),s=0;s<i.length;s++)i[s].length&&(s>0||!n)&&(i[s]=r+i[s]);return i.join("\n")},v.prototype.renderPartial=function(t,e,r,i){if(r){var s=this.getConfigTags(i),a=n(r)?r(t[1]):r[t[1]];if(null!=a){var o=t[6],c=t[5],l=t[4],p=a;0==c&&l&&(p=this.indentPartial(a,l,o));var h=this.parse(p,s);return this.renderTokens(h,e,r,p,i)}}},v.prototype.unescapedValue=function(t,e){var n=e.lookup(t[1]);if(null!=n)return n},v.prototype.escapedValue=function(t,e,n){var r=this.getConfigEscape(n)||g.escape,i=e.lookup(t[1]);if(null!=i)return"number"==typeof i&&r===g.escape?String(i):r(i)},v.prototype.rawValue=function(t){return t[1]},v.prototype.getConfigTags=function(t){return e(t)?t:t&&"object"==typeof t?t.tags:void 0},v.prototype.getConfigEscape=function(t){return t&&"object"==typeof t&&!e(t)?t.escape:void 0};var g={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(t){y.templateCache=t},get templateCache(){return y.templateCache}},y=new v;g.clearCache=function(){return y.clearCache()},g.parse=function(t,e){return y.parse(t,e)},g.render=function(t,n,r,i){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+(e(s=t)?"array":typeof s)+'" was given as the first argument for mustache#render(template, view, partials)');var s;return y.render(t,n,r,i)},g.escape=function(t){return String(t).replace(/[&<>"'`=\/]/g,(function(t){return o[t]}))},g.Scanner=f,g.Context=d,g.Writer=v;const w=g,k=function(t,e){const n=$(t),r=$(e);"none"===n.css("display")&&"flex"===r.css("display")?(n.css("display","flex"),r.css("display","none")):(n.css("display","none"),r.css("display","flex"))};!function(){const t=$(".nav-bar"),e=t.find("#new_project"),n=t.find("#project_form"),r=n.find("#project_input"),i=n.find(".btn_add_project"),s=(n.find("#btn_cancel_project"),t.find("ul")),a=$(".tasks-preview"),o=a.find(".add-task-show"),c=a.find(".task-input-div"),l=a.find("#task_input"),p=a.find(".btn_add_task");let h=[];const u=()=>{const t=r.val(),i=new class{constructor(t){this.name=t,this.tasks=[],this.dataIndex=t,this.cacheDom()}cacheDom(){this.$nav=$(".nav-bar"),this.$projectModule=this.$nav.find("#projectModule"),this.$ul=this.$projectModule.find("ul"),this.$template=this.$projectModule.find("#project-template").html(),this.$tasksPreview=$(".tasks-preview"),this.$tasktemplate=this.$tasksPreview.find("#tasks-template").html(),this.$taskUl=this.$tasksPreview.find("#tasks-list")}render(){const t={projects:[{name:this.name,dataIndex:this.dataIndex}]};this.$ul.html(w.render(this.$template,t))}addProjectTask(t){this.tasks.push({name:t}),console.log(this.tasks)}}(t);h.push(i),i.render(),r.val(""),k(n,e),console.log(h)},f=t=>{const e=l.val();h.find((e=>e.dataIndex===t)).addProjectTask(e),l.val(""),k(c,o)};i.on("click",(()=>u())),s.on("click","i.fa-trash-can",(t=>{project.del(t)})),s.on("click","span.btn__text",(t=>{const e=$(t.currentTarget).closest(".project-li").data("project-index");p.on("click",(()=>f(e)))})),e.on("click",(()=>k(n,e))),o.on("click",(()=>k(c,o)))}()})();